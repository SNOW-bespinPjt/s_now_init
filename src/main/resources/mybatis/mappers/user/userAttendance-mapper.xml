<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.btc.snow.user.attendance.UserAttendanceMapper">


    <insert id="qrCheckConfrim" parameterType="HashMap">

        insert into ATTENDENCE(u_id, astatus, tstatus, reg_date, mod_date)
        values (#{u_id}, #{i}, #{i1}, now(), now())

    </insert>

    <select id="selectAttendenceStatus" parameterType="HashMap"
            resultType="com.btc.snow.user.attendance.UserAttendanceDto">

        select *
        from ATTENDENCE
        where u_id = #{u_id}
          and tstatus = #{tstatus}


    </select>

    <select id="isValidStatus" parameterType="HashMap" resultType="Integer">
        select count(*)
        from ATTENDENCE
        where u_id = #{u_id}
          AND tstatus = #{tstatus}

    </select>


</mapper>